<section class="section mt-4">
    <div class="section-body">

        <div class="row">
            <div class="col-12">
                <div class="card">
	                <div class="card-header">
	                	<div class="float-start m-1 h4"> Job Sites</div>

	                    <div class="btn-toolbar float-end m-1" role="toolbar">
	                    	<div class="btn-group" role="group">
                          	<a routerLink="add" class="btn btn-primary">
                                <i class="fas fa-plus"></i>
                                Add Site
                             </a>
                         	</div>
                        </div>
              		</div>
              		<div class="card-body">
              			<div class="row m-3">
	                		<div class="row table-responsive">
	                  			<table class="table table-striped" id="table-2">
			                        <thead>
				                        <tr>
				                            <th class="text-center">#</th>
				                            <th>Site Name</th>
				                            <th>Type</th>
				                            <th>Jobs</th>
				                            <th>Applied</th>
				                            <th>Jobs Link</th>
				                            <th>Date</th>
				                            <th>Action</th>
				                            <th></th>
				                        </tr>
			                        </thead>
			                        <tbody>
				                        <tr *ngFor="let site of jobSites?.results; let i = index">
				                            <td class="text-center">{{i + 1}}</td>
				                            <td>
				                            	<a [routerLink]="['detail', slugify(site.site_name), binarify(site.id ?? 0)]" class="text-decoration-none">{{ site.site_name }}</a></td>
				                            <td> {{ site.site_type }} </td>
				                            <td> {{ site.job_count }} </td>
				                            <td> {{ site.applied_job_count }} </td>
				                            <td>
				                            	<a href="{{ site.job_list_link }}">{{ site.job_list_link }}</a>
				                            </td>
				                            <td>{{ site.date_created | date: 'MMMM dd, YYYY' }}</td>
				                            
				                            <td>
				                            	<a [routerLink]="['update', slugify(site.site_name), binarify(site.id ?? 0)]" class="btn btn-primary">Edit</a>
				                            </td>
				                            <td>
				                            	<button type="button" (click)="removeSite(site)" class="btn btn-danger">Delete</button>
				                            </td>
				                        </tr>

	                    			</tbody>
	                  			</table>
	                		</div>
                            <div>
                            	<div class="float-start">
                            		<p>Total Count: <span class="text-muted">{{ jobSites.count }} </span></p>
                            	</div>
                                <div class="float-end">
                                    <nav>
                                        <ul class="pagination">
                                            <ng-container *ngIf="jobSites?.previous; else noPrevious">
                                                <li class="page-item">
                                                    <a class="page-link" href="javascript:void();" (click)="getSites(jobSites.previous)" aria-label="Previous">
                                                        <span aria-hidden="true">&laquo;</span>
                                                        <span class="sr-only">Previous</span>
                                                    </a>
                                                </li>
                                            </ng-container>
                                            <ng-template #noPrevious>
                                                <li class="page-item disabled">
                                                    <a class="page-link" href="javascript:void();" aria-label="Previous">
                                                        <span aria-hidden="true">&laquo;</span>
                                                        <span class="sr-only">Previous</span>
                                                    </a>
                                                </li>
                                            </ng-template>

                                            <li class="page-item active">
                                                <a class="page-link" href="javascript:void();">X</a>
                                            </li>
                                            <ng-container *ngIf="jobSites?.next; else noNext">
                                                <li class="page-item">
                                                    <a class="page-link" href="javascript:void();" (click)="getSites(jobSites.next)" aria-label="Next">
                                                        <span class="sr-only">Next</span>
                                                        <span aria-hidden="true">&raquo;</span>
                                                    </a>
                                                </li>
                                            </ng-container>
                                            <ng-template #noNext>
                                                <li class="page-item disabled">
                                                    <a class="page-link" href="javascript:void();" aria-label="Next">
                                                        <span class="sr-only">Next</span>
                                                        <span aria-hidden="true">&raquo;</span>
                                                    </a>
                                                </li>
                                            </ng-template>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                		</div>
              		</div>
           	 	</div>
          	</div>
        </div>
    </div>
</section>
